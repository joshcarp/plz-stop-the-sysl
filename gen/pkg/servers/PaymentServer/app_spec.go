// Code generated by sysl DO NOT EDIT.
package paymentserver

const AppSpec = `{
 "apps": {
  "MasterCard": {
   "name": {
    "part": [
     "MasterCard"
    ]
   },
   "longName": "MasterCard",
   "attrs": {
    "description": {
     "s": "No description.\n"
    },
    "package": {
     "s": "MasterCard"
    }
   },
   "endpoints": {
    "POST /pay": {
     "name": "POST /pay",
     "docstring": "No description.",
     "attrs": {
      "patterns": {
       "a": {
        "elt": [
         {
          "s": "rest"
         }
        ]
       }
      }
     },
     "param": [
      {
       "name": "Payment",
       "type": {
        "typeRef": {
         "ref": {
          "appname": {
           "part": [
            "Payment"
           ]
          }
         }
        },
        "attrs": {
         "patterns": {
          "a": {
           "elt": [
            {
             "s": "body"
            }
           ]
          }
         }
        }
       }
      }
     ],
     "stmt": [
      {
       "ret": {
        "payload": "error"
       }
      },
      {
       "ret": {
        "payload": "ok <: SimpleObj"
       }
      }
     ],
     "restParams": {
      "method": "POST",
      "path": "/pay"
     },
     "sourceContext": {
      "file": "./mastercard.yaml",
      "start": {
       "line": 12,
       "col": 8
      },
      "end": {
       "line": 20,
       "col": 4
      }
     }
    }
   },
   "types": {
    "AustralianState": {
     "primitive": "STRING",
     "sourceContext": {
      "file": "./mastercard.yaml",
      "start": {
       "line": 20,
       "col": 4
      },
      "end": {
       "line": 23,
       "col": 4
      }
     }
    },
    "Payment": {
     "tuple": {
      "attrDefs": {
       "amountInSubUnits": {
        "primitive": "INT",
        "attrs": {
         "json_tag": {
          "s": "amountInSubUnits"
         }
        },
        "sourceContext": {
         "file": "./mastercard.yaml",
         "start": {
          "line": 25,
          "col": 28
         },
         "end": {
          "line": 26,
          "col": 8
         }
        }
       },
       "creditCardNumber": {
        "primitive": "STRING",
        "attrs": {
         "json_tag": {
          "s": "creditCardNumber"
         }
        },
        "sourceContext": {
         "file": "./mastercard.yaml",
         "start": {
          "line": 27,
          "col": 28
         },
         "end": {
          "line": 28,
          "col": 8
         }
        }
       },
       "currency": {
        "primitive": "STRING",
        "attrs": {
         "json_tag": {
          "s": "currency"
         }
        },
        "sourceContext": {
         "file": "./mastercard.yaml",
         "start": {
          "line": 29,
          "col": 20
         },
         "end": {
          "line": 30,
          "col": 8
         }
        }
       },
       "state": {
        "typeRef": {
         "context": {
          "appname": {
           "part": [
            "MasterCard"
           ]
          },
          "path": [
           "Payment"
          ]
         },
         "ref": {
          "path": [
           "AustralianState"
          ]
         }
        },
        "attrs": {
         "json_tag": {
          "s": "state"
         }
        },
        "opt": true,
        "sourceContext": {
         "file": "./mastercard.yaml",
         "start": {
          "line": 31,
          "col": 17
         },
         "end": {
          "line": 33,
          "col": 4
         }
        }
       }
      }
     },
     "sourceContext": {
      "file": "./mastercard.yaml",
      "start": {
       "line": 23,
       "col": 4
      },
      "end": {
       "line": 33,
       "col": 4
      }
     }
    },
    "SimpleObj": {
     "tuple": {
      "attrDefs": {
       "name": {
        "primitive": "STRING",
        "attrs": {
         "json_tag": {
          "s": "name"
         }
        },
        "opt": true,
        "sourceContext": {
         "file": "./mastercard.yaml",
         "start": {
          "line": 35,
          "col": 16
         },
         "end": {
          "line": 37,
          "col": 4
         }
        }
       }
      }
     },
     "sourceContext": {
      "file": "./mastercard.yaml",
      "start": {
       "line": 33,
       "col": 4
      },
      "end": {
       "line": 37,
       "col": 4
      }
     }
    },
    "SimpleObj2": {
     "tuple": {
      "attrDefs": {
       "name": {
        "typeRef": {
         "context": {
          "appname": {
           "part": [
            "MasterCard"
           ]
          },
          "path": [
           "SimpleObj2"
          ]
         },
         "ref": {
          "path": [
           "SimpleObj"
          ]
         }
        },
        "attrs": {
         "json_tag": {
          "s": "name"
         }
        },
        "opt": true,
        "sourceContext": {
         "file": "./mastercard.yaml",
         "start": {
          "line": 39,
          "col": 16
         },
         "end": {
          "line": 40
         }
        }
       }
      }
     },
     "sourceContext": {
      "file": "./mastercard.yaml",
      "start": {
       "line": 37,
       "col": 4
      },
      "end": {
       "line": 40
      }
     }
    }
   },
   "sourceContext": {
    "file": "./mastercard.yaml",
    "start": {
     "line": 7,
     "col": 1
    },
    "end": {
     "line": 7,
     "col": 45
    }
   }
  },
  "PaymentServer": {
   "name": {
    "part": [
     "PaymentServer"
    ]
   },
   "attrs": {
    "description": {
     "s": "This server handles all the payment related endpoints.\n"
    },
    "package": {
     "s": "PaymentServer"
    }
   },
   "endpoints": {
    "GET /balance": {
     "name": "GET /balance",
     "attrs": {
      "patterns": {
       "a": {
        "elt": [
         {
          "s": "rest"
         }
        ]
       }
      },
      "sql_getBalance": {
       "s": "SELECT balance\nFROM   Account\nWHERE  accountID = 1\n"
      },
      "sql_insertBalance": {
       "s": "INSERT INTO Account (accountID, balance)\nVALUES (?, ?)\n"
      }
     },
     "stmt": [
      {
       "ret": {
        "payload": "ok <: Balance"
       }
      }
     ],
     "restParams": {
      "method": "GET",
      "path": "/balance"
     },
     "sourceContext": {
      "file": "sizzle.sysl",
      "start": {
       "line": 19,
       "col": 8
      },
      "end": {
       "line": 29,
       "col": 4
      }
     }
    },
    "POST /pay": {
     "name": "POST /pay",
     "attrs": {
      "patterns": {
       "a": {
        "elt": [
         {
          "s": "rest"
         }
        ]
       }
      },
      "sql_makePayment": {
       "s": "UPDATE Account\nSET    balance = balance - ?\nWHERE  accountId = 1\n"
      }
     },
     "param": [
      {
       "name": "instruction",
       "type": {
        "typeRef": {
         "ref": {
          "appname": {
           "part": [
            "PaymentInstruction"
           ]
          }
         }
        },
        "attrs": {
         "patterns": {
          "a": {
           "elt": [
            {
             "s": "body"
            }
           ]
          }
         }
        }
       }
      }
     ],
     "stmt": [
      {
       "call": {
        "target": {
         "part": [
          "Visa"
         ]
        },
        "endpoint": "POST /pay"
       }
      },
      {
       "call": {
        "target": {
         "part": [
          "MasterCard"
         ]
        },
        "endpoint": "POST /pay"
       }
      },
      {
       "ret": {
        "payload": "ok <: PaymentResponse"
       }
      }
     ],
     "restParams": {
      "method": "POST",
      "path": "/pay"
     },
     "sourceContext": {
      "file": "sizzle.sysl",
      "start": {
       "line": 9,
       "col": 8
      },
      "end": {
       "line": 18,
       "col": 4
      }
     }
    }
   },
   "types": {
    "Balance": {
     "tuple": {
      "attrDefs": {
       "amount": {
        "primitive": "INT",
        "sourceContext": {
         "file": "sizzle.sysl",
         "start": {
          "line": 37,
          "col": 18
         },
         "end": {
          "line": 37,
          "col": 18
         }
        }
       }
      }
     },
     "sourceContext": {
      "file": "sizzle.sysl",
      "start": {
       "line": 36,
       "col": 4
      },
      "end": {
       "line": 39,
       "col": 4
      }
     }
    },
    "PaymentInstruction": {
     "tuple": {
      "attrDefs": {
       "accountNumber": {
        "primitive": "STRING",
        "sourceContext": {
         "file": "sizzle.sysl",
         "start": {
          "line": 30,
          "col": 25
         },
         "end": {
          "line": 30,
          "col": 25
         }
        }
       },
       "amount": {
        "primitive": "DECIMAL",
        "sourceContext": {
         "file": "sizzle.sysl",
         "start": {
          "line": 31,
          "col": 18
         },
         "end": {
          "line": 31,
          "col": 18
         }
        }
       }
      }
     },
     "sourceContext": {
      "file": "sizzle.sysl",
      "start": {
       "line": 29,
       "col": 4
      },
      "end": {
       "line": 33,
       "col": 4
      }
     }
    },
    "PaymentResponse": {
     "tuple": {
      "attrDefs": {
       "message": {
        "primitive": "STRING",
        "sourceContext": {
         "file": "sizzle.sysl",
         "start": {
          "line": 34,
          "col": 19
         },
         "end": {
          "line": 34,
          "col": 19
         }
        }
       }
      }
     },
     "sourceContext": {
      "file": "sizzle.sysl",
      "start": {
       "line": 33,
       "col": 4
      },
      "end": {
       "line": 36,
       "col": 4
      }
     }
    }
   },
   "sourceContext": {
    "file": "sizzle.sysl",
    "start": {
     "line": 3,
     "col": 1
    },
    "end": {
     "line": 3
    }
   }
  },
  "Visa": {
   "name": {
    "part": [
     "Visa"
    ]
   },
   "attrs": {
    "patterns": {
     "a": {
      "elt": [
       {
        "s": "external"
       }
      ]
     }
    }
   },
   "endpoints": {
    "POST /pay": {
     "name": "POST /pay",
     "attrs": {
      "patterns": {
       "a": {
        "elt": [
         {
          "s": "rest"
         }
        ]
       }
      }
     },
     "param": [
      {
       "name": "req",
       "type": {
        "typeRef": {
         "ref": {
          "appname": {
           "part": [
            "PaymentData"
           ]
          }
         }
        },
        "attrs": {
         "patterns": {
          "a": {
           "elt": [
            {
             "s": "body"
            }
           ]
          }
         }
        }
       }
      }
     ],
     "stmt": [
      {
       "ret": {
        "payload": "ok <: ResponseData"
       }
      }
     ],
     "restParams": {
      "method": "POST",
      "path": "/pay"
     },
     "sourceContext": {
      "file": "sizzle.sysl",
      "start": {
       "line": 42,
       "col": 8
      },
      "end": {
       "line": 45,
       "col": 4
      }
     }
    }
   },
   "types": {
    "PaymentData": {
     "tuple": {
      "attrDefs": {
       "amountInSubUnits": {
        "primitive": "INT",
        "sourceContext": {
         "file": "sizzle.sysl",
         "start": {
          "line": 50,
          "col": 28
         },
         "end": {
          "line": 50,
          "col": 28
         }
        }
       },
       "creditCardNumber": {
        "primitive": "STRING",
        "sourceContext": {
         "file": "sizzle.sysl",
         "start": {
          "line": 49,
          "col": 28
         },
         "end": {
          "line": 49,
          "col": 28
         }
        }
       },
       "currency": {
        "primitive": "STRING",
        "sourceContext": {
         "file": "sizzle.sysl",
         "start": {
          "line": 51,
          "col": 20
         },
         "end": {
          "line": 51,
          "col": 20
         }
        }
       }
      }
     },
     "sourceContext": {
      "file": "sizzle.sysl",
      "start": {
       "line": 48,
       "col": 4
      },
      "end": {
       "line": 53
      }
     }
    },
    "ResponseData": {
     "tuple": {
      "attrDefs": {
       "response": {
        "primitive": "STRING",
        "sourceContext": {
         "file": "sizzle.sysl",
         "start": {
          "line": 46,
          "col": 20
         },
         "end": {
          "line": 46,
          "col": 20
         }
        }
       }
      }
     },
     "sourceContext": {
      "file": "sizzle.sysl",
      "start": {
       "line": 45,
       "col": 4
      },
      "end": {
       "line": 48,
       "col": 4
      }
     }
    }
   },
   "sourceContext": {
    "file": "sizzle.sysl",
    "start": {
     "line": 39,
     "col": 1
    },
    "end": {
     "line": 39,
     "col": 14
    }
   }
  }
 }
}`
